"use strict";window,L.Icon.Pulse=L.DivIcon.extend({options:{className:"",iconSize:[10,10],color:"red",animate:!0,heartbeat:1},initialize:function(e){L.setOptions(this,e);var t="lpi-"+(new Date).getTime()+"-"+Math.round(1e5*Math.random()),n=["box-shadow: 0 0 6px 2px "+this.options.color,"animation: pulsate "+this.options.heartbeat+"s ease-out","animation-iteration-count: 2"];this.options.animate||(n.push("animation: none"),n.push("box-shadow:none"));var i=["."+t+"{"+["background-color: transparent"].join(";")+";}","."+t+":after{"+n.join(";")+";}"].join(""),o=document.createElement("style");o.styleSheet?o.styleSheet.cssText=i:o.appendChild(document.createTextNode(i)),document.getElementsByTagName("head")[0].appendChild(o),this.options.className=this.options.className+" leaflet-pulsing-icon "+t,L.DivIcon.prototype.initialize.call(this,e)}}),L.icon.pulse=function(e){return new L.Icon.Pulse(e)},L.Marker.Pulse=L.Marker.extend({initialize:function(e,t){t.icon=L.icon.pulse(t),L.Marker.prototype.initialize.call(this,e,t)}}),L.marker.pulse=function(e,t){return new L.Marker.Pulse(e,t)};